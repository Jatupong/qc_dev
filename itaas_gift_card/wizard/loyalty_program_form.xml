<odoo>
    <record id="loyalty_program_form_line" model="ir.ui.view">
        <field name="name">loyalty.program.form.line</field>
        <field name="model">loyalty.program</field>
        <field name="inherit_id" ref="loyalty.loyalty_program_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet/notebook" position="attributes">
                <attribute name="attrs">{'invisible': [('program_type', '=', 'ewallet')]}</attribute>
            </xpath>
            <xpath expr="//sheet/notebook/page[1]" position="attributes">
                <attribute name="attrs">{'invisible': [('program_type', 'in', ('gift_card', 'ewallet'))]}</attribute>
            </xpath>
            <xpath expr="//sheet/notebook/page[2]" position="attributes">
                <attribute name="attrs">{'invisible': [('program_type', 'in', ('gift_card', 'ewallet'))]}</attribute>
            </xpath>
            <xpath expr="//sheet/notebook" position="inside">
                <page string="Program Line" name="program_line" attrs="{'invisible': [('program_type', '!=','gift_card')]}">
                    <field name="lines_ids" readonly="1">
                        <tree editable="bottom">
                            <field name="date_order"/>
                            <field name="date"/>
                            <field name="qty"/>
                            <field name="qty_done"/>
                            <field name="qty_balance"/>
                            <field name="ref"/>
                            <field name="partner_id"/>
                        </tree>
                        <form>
                            <group>
                                <group>
                                    <field name="date_order"/>
                                    <field name="date"/>
                                    <field name="qty"/>
                                    <field name="pos_order"/>
                                </group>
                                <group>
                                    <field name="qty_done"/>
                                    <field name="qty_balance"/>
                                    <field name="ref"/>
                                    <field name="sale_id"/>
                                    <field name="partner_id"/>
                                </group>
                            </group>
                        </form>

                    </field>

                </page>
            </xpath>







        </field>
    </record>

</odoo>