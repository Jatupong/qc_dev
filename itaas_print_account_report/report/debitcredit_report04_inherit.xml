<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="debitcredit04_report_inherit_id">
        <t t-foreach="docs" t-as="o">
            <t t-call="web.basic_layout">
                <t t-set="sumdebit" t-value="0.00"/>
                <t t-set="sumcredit" t-value="0.00"/>
                <div class="header">
                    <style>
                        @font-face
                        {
                        font-family: SarabunPSK;
                        src: local('United'), url("/itaas_print_account_report/static/THSarabun.ttf") format('opentype');
                        }
                        .font_fam{
                        font-family: SarabunPSK;
                        src: local('United'), url("/itaas_print_account_report/static/THSarabun.ttf") format('opentype');
                        }
                        table.table-bordered1{
                        border:1px solid black;
                        width: 100%;
                        font-family: SarabunPSK;
                        src: local('United'), url("/itaas_print_account_report/static/THSarabun.ttf") format('opentype');
                        }
                        table.table-bordered1{
                        border:1px solid white;
                        margin-top:10px;
                        border-collapse: collapse;
                        width: 100%;
                        }
                        table.table-bordered1 &gt; thead &gt; tr &gt; th{
                        border:1px solid white;
                        border-collapse: collapse;
                        }
                        table.table-bordered1 &gt; thead &gt; tr &gt; td{
                        border:1px solid white;
                        border-left: 1px solid white;
                        border-collapse: collapse;
                        }
                        table.table-bordered1 &gt; tbody &gt; tr &gt; td{
                        border:0px solid white;
                        border-left: 1px solid white;
                        border-collapse: collapse;
                        height: 40px;
                        }
                        table.table-bordered1 &gt; tfoot &gt; tr &gt; td{
                        border:1px solid white;
                        border-collapse: collapse;
                        }
                        }
                        .td_top{
                        border-top:#000 solid 1px;
                        }
                        .td_left{
                        border-left:#000 solid 1px;
                        }
                        .td_right{
                        border-right:#000 solid 1px;
                        }
                        .td_bott{
                        border-bottom:#000 solid 1px;
                        }
                        .word_wrap{word-wrap: break-word;}
                    </style>
                    <table width="100%" class="font_fam">
                        <tr>
                            <td width="100%" style="text-align:center;">

                                <font style="font-size: 15px;">
                                    <font style="font-size: 16px;">
                                        <strong>
                                            <span t-field="o.company_id.name"/>
                                            <span>
                                                <t t-if="o.company_id.branch_no">
                                                    <t t-if="o.company_id.branch_no == '00000'">
                                                        &amp;nbsp;<span>(สำนักงานใหญ่)</span>
                                                    </t>
                                                    <t t-if="o.company_id.branch_no != '00000'">
                                                        &amp;nbsp;(สาขา  <span t-field="o.company_id.branch_no"/>)
                                                    </t>
                                                </t>
                                            </span>
                                        </strong>&amp;nbsp;<br/>
                                        <strong>สมุดรายวันขาย<br/>
                                            Account Receivable Voucher</strong>
                                    </font>

                                </font>
                            </td>
                        </tr>
                    </table>

                    <table width="100%" class="font_fam" style="font-size: 15px;">
                        <tr>
                            <td>
                                <!--                                <t t-if="o.partner_id">-->
                                <!--                                    <strong>ลูกค้า/Customer</strong><br/>-->
                                <!--                                    <t t-if="o.partner_id">-->
                                <!--                                        <span t-field="o.partner_id.name"/>-->
                                <!--                                    </t>-->
                                <!--                                    <span>-->
                                <!--                                        <t t-if="o.partner_id.branch_no">-->
                                <!--                                            <t t-if="o.partner_id.branch_no == '00000'">-->
                                <!--                                                &amp;nbsp;<span>(สำนักงานใหญ่)</span>-->
                                <!--                                            </t>-->
                                <!--                                            <t t-if="o.partner_id.branch_no != '00000'">-->
                                <!--                                                &amp;nbsp;(สาขา  <span t-field="o.partner_id.branch_no"/>)-->
                                <!--                                            </t>-->
                                <!--                                        </t>-->
                                <!--                                    </span>-->
                                <!--                                </t>-->
                                <!--                                <t t-if="not o.partner_id">-->
                                <strong>ลูกค้า/Customer</strong><br/>
                                <t t-if="o.line_ids[0].partner_id">
                                    <span t-field="o.line_ids[0].partner_id.name"/>
                                </t>
                                <span>
                                    <t t-if="o.line_ids[0].partner_id.branch_no">
                                        <t t-if="o.line_ids[0].partner_id.branch_no == '00000'">
                                            &amp;nbsp;<span>(สำนักงานใหญ่)</span>
                                        </t>
                                        <t t-if="o.line_ids[0].partner_id.branch_no != '00000'">
                                            &amp;nbsp;(สาขา  <span t-field="o.line_ids[0].partner_id.branch_no"/>)
                                        </t>
                                    </t>
                                </span>
                                <!--                                </t>-->
                            </td>
                            <td width="18%" style="text-align: center">
                                <t t-if="o.name">
                                    <strong>เลขที่/Number</strong><br/>
                                    <span t-field="o.name"/>
                                </t>
                            </td>
                            <td width="15%" style="text-align: center">
                                <t t-if="o.date">
                                    <strong>วันที่/Date</strong><br/>
                                    <span t-field="o.date"/>
                                </t>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="page">
                    <style>
                        @font-face
                        {
                        font-family: SarabunPSK;
                        src: local('United'), url("/itaas_print_account_report/static/THSarabun.ttf") format('opentype');
                        }
                        .font_fam{
                        font-family: SarabunPSK;
                        src: local('United'), url("/itaas_print_account_report/static/THSarabun.ttf") format('opentype');
                        }
                        table.table-bordered1{
                        border:1px solid black;
                        width: 100%;
                        font-family: SarabunPSK;
                        src: local('United'), url("/itaas_print_account_report/static/THSarabun.ttf") format('opentype');
                        }
                        table.table-bordered1{
                        border:1px solid black;
                        width: 100%;
                        }
                        table.table-bordered1 &gt; thead &gt; tr &gt; th{
                        border:1px solid black;
                        padding:3px;
                        }
                        table.table-bordered1 &gt; thead &gt; tr &gt; td{
                        border:1px solid black;
                        border-left: 1px solid black;
                        }
                        table.table-bordered1 &gt; tbody &gt; tr &gt; td{
                        border:0px solid white;
                        border-left: 1px solid black;
                        }
                        table.table-bordered1 &gt; tfoot &gt; tr &gt; td{
                        border:1px solid black;
                        padding:3px;
                        }
                        table.table-bordered &gt; thead &gt; tr &gt; th{
                        border:1px solid black;
                        }
                        table.table-bordered &gt; tbody &gt; tr &gt; td{
                        border:1px solid black;
                        padding:3px;
                        }
                        table.table-bordered &gt; tfoot &gt; tr &gt; td{
                        border:1px solid black;
                        padding:3px;
                        }
                        table.table-nobordered {
                        border:0px solid White;
                        padding:3px;
                        }
                        table.table-nobordered &gt; thead &gt; tr &gt; th{
                        border:0px solid White;
                        border-top : 1px solid black;
                        padding:3px;
                        }
                        table.table-nobordered &gt; tbody &gt; tr &gt; td{
                        border:0px solid White;
                        border-top : 1px solid black;
                        padding:3px;
                        }
                        table.table-nobordered &gt; tfoot &gt; tr &gt; td{
                        border:1px solid black;
                        padding:3px;
                        }
                        .td_top{
                        border-top:#000 solid 1px;
                        }
                        .td_left{
                        border-left:#000 solid 1px;
                        }
                        .td_right{
                        border-right:#000 solid 1px;
                        }
                        .td_bott{
                        border-bottom:#000 solid 1px;
                        }
                    </style>
                    <!--                    <div class="col-xs-12">-->
                    <table class="font_fam table table-nobordered" style="font-size: 15px; margin-top:30px;">
                        <thead>
                            <tr style="height:35px;">
                                <th class="col-xs-2" style="text-align:center">
                                    <font>ลำดับที่/No.</font>
                                </th>
                                <th class="col-xs-3" style="text-align:center">
                                    <font>รหัสบัญชี/Acc Number</font>
                                </th>
                                <th class="col-xs-3" style="text-align:left">
                                    <font>ชื่อบัญชี/Acc Name</font>
                                </th>
                                <th class="col-xs-5" style="text-align:left">
                                    <font>แผนก/Cost Center</font>
                                </th>
                                <th class="col-xs-2" style="text-align:center">
                                    <font>เดบิต/Debit</font>
                                </th>
                                <th class="col-xs-2" style="text-align:center">
                                    <font>เครดิต/Credit</font>
                                </th>
                            </tr>
                        </thead>
                        <tbody class="sale_tbody">
                            <t t-set="i" t-value="1"/>
                            <t t-foreach="o.line_ids.sorted(key=lambda x: x.credit and x.id)" t-as="l">
                                <tr style="height:10px;">
                                    <td style="text-align:center">
                                        <font>
                                            <span t-esc="i"/>
                                        </font>
                                    </td>
                                    <t t-set="i" t-value="i+1"/>
                                    <!--<t t-set="count" t-value="count + (len(l.account_id.code)/60) + 1"/>-->
                                    <td style="text-align:center">
                                        <font>
                                            <span t-field="l.account_id.code"/>
                                        </font>
                                    </td>
                                    <td style="text-align:left">
                                        <font>
                                            <span t-field="l.account_id.name"/>
                                        </font>
                                    </td>
                                    <td style="text-align:left">
                                        <font>
                                            <t t-if="l.analytic_account_id">
                                                <span t-field="l.analytic_account_id.name"/>
                                            </t>
                                            <t t-if="not l.analytic_account_id">
                                                <span t-field="o.analytic_account_id.name"/>
                                            </t>
                                        </font>
                                    </td>
                                    <td style="text-align:right">
                                        <t t-if="l.debit == 0.00">
                                            <span/>
                                        </t>
                                        <t t-if="l.debit != 0.00">
                                            <t t-set="sumdebit" t-value="sumdebit + l.debit "/>
                                            <font>
                                                <span t-esc="'{0:,.2f}'.format(l.debit)"/>
                                            </font>
                                        </t>
                                    </td>
                                    <td style="text-align:right">
                                        <t t-if="l.credit == 0.00">
                                            <span/>
                                        </t>
                                        <t t-if="l.credit != 0.00">
                                            <t t-set="sumcredit" t-value="sumcredit + l.credit "/>
                                            <font>
                                                <span t-esc="'{0:,.2f}'.format(l.credit)"/>
                                            </font>
                                        </t>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                    <table width="100%" class="table table-bordered font_fam" style="font-size: 15px;">
                        <tr>
                            <td class="col-xs-5">
                                <div align="center">
                                    <font style="font-size: 15px;">
                                        <span>(<span t-esc="o.baht_text(sumcredit)"/>)</span>
                                    </font>
                                </div>
                            </td>
                            <td class="col-xs-3">
                                <div style="text-align:right;">
                                    <font style="font-size: 15px;">
                                        <span>รวม</span>
                                    </font>
                                </div>
                            </td>
                            <td class="col-xs-2">
                                <div style="text-align:right">
                                    <font style="font-size: 15px;">
                                        <span t-esc="'{0:,.2f}'.format(sumdebit)"/>
                                    </font>
                                </div>
                            </td>
                            <td class="col-xs-2">
                                <div style="text-align:right">
                                    <font style="font-size: 15px;">
                                        <span t-esc="'{0:,.2f}'.format(sumcredit)"/>
                                    </font>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="12">
                                <div colspan="12" class="last-page">
                                    <div class="col-xs-6">
                                        <t t-set="ref" t-value="o.ref"/>
                                        <strong>อ้างอิง/Reference:</strong>
                                        <t t-if="o.ref">
                                            &amp;nbsp;&amp;nbsp;<span t-esc="ref[0:150]"/><br/>
                                        </t>
                                    </div>
                                </div>
                                <div colspan="12" class="last-page">
                                    <div class="col-xs-6">
                                        <!--                                        <t t-set="narration" t-value="o.narration"/>-->
                                        <strong>รายละเอียด/Description:</strong>
                                        <div style="width:650px; word-wrap: break-word;background-color:white;">
                                            <span t-field="o.narration"/>
                                        </div>
                                        <!--                                        <t t-if="o.narration">-->
                                        <!--                                            &amp;nbsp;&amp;nbsp;<span t-esc="narration[0:200]"/><br/>-->
                                        <!--                                        </t>-->
                                    </div>
                                </div>
                            </td>
                        </tr>

                    </table>
                    <div class="col-xs-12">
                        <!--  <div>-->
                        <table width="100%" class="font_fam" style="font-size: 15px; margin-top:-15px; text-align: center">
                            <tr class="font_fam">
                                <td>
                                    <br/><br/>
                                    <span>___________________</span><br/>
                                    <span>ผู้จัดทํา <br/> PREPARED BY</span>
                                </td>
                                <td>
                                    <br/><br/>
                                    <span>___________________</span><br/>
                                    <span>ผู้ตรวจ <br/> CHECKED BY</span>
                                </td>
                                <td>
                                    <br/><br/>
                                    <span>___________________</span><br/>
                                    <span>ผู้อนุมัติ <br/> APPROVED</span>
                                </td>
                                <td>
                                    <br/><br/>
                                    <span>___________________</span><br/>
                                    <span>ผู้ลงบัญชี <br/> RECORDED</span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>

            </t>
        </t>
    </template>

    <record id="paperformat_A5_RBS_debitcredit04_inherit" model="report.paperformat">
        <field name="name">A5_RBS</field>
        <field name="default" eval="False"/>
        <field name="format">custom</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">40</field>
        <field name="margin_bottom">0</field>
        <field name="margin_left">5</field>
        <field name="margin_right">5</field>
        <field name="page_height">140</field>
        <field name="page_width">210</field>
        <field name="header_line" eval="False"/>
        <field name="header_spacing">35</field>
        <field name="dpi">90</field>
    </record>
    <report
            id="debitcredit04_report_inherit"
            model="account.move"
            menu="False"
            report_type="qweb-pdf"
            string="สมุดรายวันขาย"
            paperformat="itaas_print_account_report.paperformat_A5_RBS_debitcredit04_inherit"
            name="itaas_print_account_report.debitcredit04_report_inherit_id"
            file="itaas_print_account_report.debitcredit04_report_inherit_id"
    />
</odoo>